<!-- rule.mdを読むこと -->
<Window
    x:Class="nanobananaWindows.Views.Settings.FaceSheetSettingsWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- メインコンテンツ -->
        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto" Padding="24,16,24,16">
            <StackPanel Spacing="16" MinWidth="500">
                <!-- キャラクター情報セクション -->
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        CornerRadius="8" Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="キャラクター情報" FontWeight="SemiBold" FontSize="16"/>

                        <!-- 名前 -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="名前:" VerticalAlignment="Center"/>
                            <TextBox x:Name="CharacterNameTextBox" Grid.Column="1"
                                     PlaceholderText="キャラクター名"
                                     TextChanged="CharacterNameTextBox_TextChanged"/>
                        </Grid>

                        <!-- 参照画像 -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="参照画像:" VerticalAlignment="Center"/>
                            <TextBox x:Name="ReferenceImagePathTextBox" Grid.Column="1"
                                     PlaceholderText="画像をドロップ、またはパスを入力..." Margin="0,0,8,0"
                                     AllowDrop="True"
                                     DragOver="ImagePathTextBox_DragOver"
                                     Drop="ReferenceImagePathTextBox_Drop"
                                     TextChanged="ReferenceImagePathTextBox_TextChanged"/>
                            <Button x:Name="BrowseButton" Grid.Column="2" Content="参照..."
                                    Click="BrowseButton_Click"/>
                        </Grid>

                        <!-- 外見説明 -->
                        <StackPanel Spacing="4">
                            <TextBlock Text="外見説明:"/>
                            <TextBox x:Name="AppearanceDescriptionTextBox"
                                     PlaceholderText="例：&#x0a;・ショートボブの茶髪&#x0a;・大きな青い瞳&#x0a;・元気な笑顔&#x0a;・左頬にホクロ"
                                     AcceptsReturn="True"
                                     TextWrapping="Wrap"
                                     Height="120"
                                     TextChanged="AppearanceDescriptionTextBox_TextChanged"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- 説明テキスト -->
                <TextBlock Text="※ 外見説明には、髪型、目の色、表情、特徴など、キャラクターの顔の特徴を記述してください。"
                           FontSize="12" Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                           TextWrapping="Wrap"/>
            </StackPanel>
        </ScrollViewer>

        <!-- ボタンエリア -->
        <Border Grid.Row="1"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="0,1,0,0"
                Padding="24,12">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="8">
                <Button x:Name="ApplyButton" Content="適用" Style="{StaticResource AccentButtonStyle}"
                        Click="ApplyButton_Click" Width="100"/>
                <Button x:Name="CancelButton" Content="キャンセル"
                        Click="CancelButton_Click" Width="100"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
